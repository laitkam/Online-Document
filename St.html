<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Schedule Tribe Application</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
  <script>
    UPLOADCARE_PUBLIC_KEY = '8e4b55a12a698dc8ade4';
  </script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">
  <div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md">
    <h1 class="text-xl font-bold mb-4 text-center">Schedule Tribe Application</h1>
    
    <div id="formContainer">
      <form id="mainForm" action="https://formspree.io/f/xzzvryge" method="POST">
        <label class="block mb-2">Name:
          <input type="text" name="name" required class="w-full border rounded px-3 py-2 mt-1">
        </label>

        <label class="block mb-2">Date of Birth:
          <input type="date" name="dob" required class="w-full border rounded px-3 py-2 mt-1">
        </label>

        <label class="block mb-2">Sex:
          <select name="sex" required class="w-full border rounded px-3 py-2 mt-1">
            <option value="">Select</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </label>

        <label class="block mb-2">Father's Name:
          <input type="text" name="father_name" required class="w-full border rounded px-3 py-2 mt-1">
        </label>

        <label class="block mb-2">Mother's Name:
          <input type="text" name="mother_name" required class="w-full border rounded px-3 py-2 mt-1">
        </label>

        <label class="block mb-2">Phone Number:
          <input type="tel" name="phone" required class="w-full border rounded px-3 py-2 mt-1">
        </label>

        <div class="mt-4">
          <label class="block">Passport Photo:
            <input type="hidden" role="uploadcare-uploader" name="passport_photo" data-clearable />
          </label>
          <label class="block mt-2">Birth Certificate:
            <input type="hidden" role="uploadcare-uploader" name="birth_certificate" data-clearable />
          </label>
          <label class="block mt-2">Village Headman Certificate:
            <input type="hidden" role="uploadcare-uploader" name="village_headman" data-clearable />
          </label>
          <label class="block mt-2">Parents Front Voter ID:
            <input type="hidden" role="uploadcare-uploader" name="parents_epic" data-clearable />
          </label>
          <label class="block mt-2">Parents Back Voter ID:
            <input type="hidden" role="uploadcare-uploader" name="parents_backepic" data-clearable />
          </label>
          <label class="block mt-2">Parents Schedule Tribe Certificate:
            <input type="hidden" role="uploadcare-uploader" name="parents_st" data-clearable />
          </label>
        </div>

        <button type="button" onclick="validateAndPay()" class="bg-green-600 text-white px-4 py-2 rounded mt-6 w-full">
          Pay ‚Çπ300 & Submit
        </button>
      </form>
    </div>

    <div id="thankYouMessage" style="display:none;" class="text-center mt-6 text-green-700 font-semibold">
      ‚úÖ Form Submitted, thank you.<br>
      For further assistance contact our team: <a href="tel:9862189403" class="underline text-blue-700">9862189403</a>
    </div>

    <div class="text-center mt-4">
      <a href="https://wa.me/91896189403" target="_blank" class="text-green-700 underline">üí¨ Need Help? Chat on WhatsApp</a>
    </div>
  </div>

  <script>
    function validateAndPay() {
      const form = document.getElementById("mainForm");
      const requiredFields = ["name", "dob", "sex", "father_name", "mother_name", "phone"];
      let valid = true;

      requiredFields.forEach(name => {
        const field = form.elements[name];
        if (!field.value.trim()) {
          field.classList.add("border-red-500");
          valid = false;
        } else {
          field.classList.remove("border-red-500");
        }
      });

      if (!valid) {
        alert("Please fill in all required fields.");
        return;
      }

      const options = {
        "key": "rzp_live_90jFdMHiP0Rtcz",
        "amount": 30000,
        "currency": "INR",
        "name": "ST Application",
        "description": "Schedule Tribe Certificate Fee",
        "handler": function (response) {
          form.submit();
          document.getElementById("formContainer").style.display = "none";
          document.getElementById("thankYouMessage").style.display = "block";
        },
        "theme": {
          "color": "#4CAF50"
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    }
  </script>
  <div class="text-center mt-4">
  <a href="index.html" class="inline-block bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded">‚¨ÖÔ∏è Back to Home</a>
</div>
</body>
</html>
